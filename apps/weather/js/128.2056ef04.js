"use strict";(self["webpackChunkwether"]=self["webpackChunkwether"]||[]).push([[128],{6128:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(3673),n=a(8880),i=a(2323);const o={class:"col q-pt-lg q-px-md"},s={class:"col text-white text-center"},r={class:"text-h4 text-weight-light"},c={class:"text-h6 text-weight-light"},h={class:"text-h1 text-weight-thin q-my-lg relative-position"},d=(0,l._)("span",{class:"text-h4 relative-position degree"},"Â°C",-1),u={class:"col text-center"},p=["src"],g={key:1,class:"col column text-center text-white"},w=(0,l._)("div",{class:"col text-h2 text-weight-thin"},[(0,l.Uk)(" Quasar"),(0,l._)("br"),(0,l.Uk)("Weather ")],-1),m=(0,l._)("div",null,"Find my location",-1),k=(0,l._)("div",{class:"col skyline"},null,-1);function x(e,t,a,x,_,y){const v=(0,l.up)("q-icon"),f=(0,l.up)("q-btn"),C=(0,l.up)("q-input"),D=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(D,{class:"flex column"},{default:(0,l.w5)((()=>[(0,l._)("div",o,[(0,l.Wm)(C,{modelValue:_.search,"onUpdate:modelValue":t[0]||(t[0]=e=>_.search=e),onKeyup:(0,n.D2)(y.getWeatherBySearch,["enter"]),placeholder:"Search",dark:"",borderless:""},{before:(0,l.w5)((()=>[(0,l.Wm)(v,{onClick:y.getLocation,name:"my_location"},null,8,["onClick"])])),append:(0,l.w5)((()=>[(0,l.Wm)(f,{round:"",dense:"",flat:"",onClick:y.getWeatherBySearch,icon:"search"},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),_.weatherData?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l._)("div",s,[(0,l._)("div",r,(0,i.zw)(_.weatherData.name),1),(0,l._)("div",c,(0,i.zw)(_.weatherData.weather[0].main),1),(0,l._)("div",h,[(0,l._)("span",null,(0,i.zw)(Math.round(_.weatherData.main.temp)),1),d])]),(0,l._)("div",u,[(0,l._)("img",{src:`https://openweathermap.org/img/wn/${_.weatherData.weather[0].icon}@2x.png`},null,8,p)])],64)):((0,l.wg)(),(0,l.iD)("div",g,[w,(0,l.Wm)(f,{class:"col",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{onClick:y.getLocation,left:"",size:"3em",name:"my_location"},null,8,["onClick"]),m])),_:1})])),k])),_:1})}const _={name:"PageIndex",data(){return{search:"",weatherData:null,lat:null,lon:null,apiurl:"https://api.openweathermap.org/data/2.5/weather",apikey:"1b9f1504e3e4ac49d0160b750dcd5bb1"}},methods:{getLocation(){navigator.geolocation.getCurrentPosition((e=>{console.log("position: ",e),this.lat=e.coords.latitude,this.lon=e.coords.longitude,this.getWeatherByCoords()}))},getWeatherByCoords(){this.$axios(`${this.apiurl}?lat=${this.lat}&lon=${this.lon}&appid=${this.apikey}&units=metric&lang=kr`).then((e=>{console.log("res: ",e),this.weatherData=e.data}))},getWeatherBySearch(){this.$axios(`${this.apiurl}?q=${this.search}&appid=${this.apikey}&units=metric&lang=kr`).then((e=>{console.log("res: ",e),this.weatherData=e.data}))}}};var y=a(4379),v=a(1592),f=a(4554),C=a(7435),D=a(7518),W=a.n(D);_.render=x;const b=_;W()(_,"components",{QPage:y.Z,QInput:v.Z,QIcon:f.Z,QBtn:C.Z})}}]);